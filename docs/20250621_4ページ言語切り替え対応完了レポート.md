# 20250621_4ãƒšãƒ¼ã‚¸è¨€èªåˆ‡ã‚Šæ›¿ãˆå¯¾å¿œå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

## ğŸ“‹ æ¦‚è¦
solutionsã€resourcesã€pricingã€aboutã®4ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã€Step 1ã®è¨€èªæ§‹é€ æ–¹é‡ã«åˆã‚ã›ã¦è¨€èªåˆ‡ã‚Šæ›¿ãˆå¯¾å¿œã‚’å®Œäº†ã—ã¾ã—ãŸã€‚

## ğŸ¯ å®Ÿè£…ç›®æ¨™
- **Step 1æ–¹é‡ã®çµ±ä¸€**: è‹±èªã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€æ—¥æœ¬èªã¯`/ja`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹
- **å…¨ãƒšãƒ¼ã‚¸ã®è¨€èªåˆ‡ã‚Šæ›¿ãˆå¯¾å¿œ**: ãƒªãƒ­ãƒ¼ãƒ‰ãªã—åˆ‡ã‚Šæ›¿ãˆã§4ãƒšãƒ¼ã‚¸å…¨ã¦å¯¾å¿œ
- **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ•´åˆæ€§**: GlobalHeaderã®ãƒªãƒ³ã‚¯ã‚’æ–°æ§‹é€ ã«å¯¾å¿œ

## ğŸ“ å®Ÿè£…å†…å®¹

### 1. ãƒšãƒ¼ã‚¸æ§‹é€ å¤‰æ›´

#### ğŸ”„ Before (æ··åœ¨çŠ¶æ…‹)
```
/solutions          â†’ æ—¥æœ¬èª (ja) âŒ
/resources          â†’ æ—¥æœ¬èª (ja) âŒ  
/pricing            â†’ æ—¥æœ¬èª (ja) âŒ
/about              â†’ æ—¥æœ¬èª (ja) âŒ
/en/solutions       â†’ è‹±èª (en) âœ…
/en/resources       â†’ è‹±èª (en) âœ…
/en/pricing         â†’ è‹±èª (en) âœ…
/en/about           â†’ è‹±èª (en) âœ…
```

#### âœ… After (çµ±ä¸€æ§‹é€ )
```
/solutions          â†’ è‹±èª (en) âœ…
/resources          â†’ è‹±èª (en) âœ…
/pricing            â†’ è‹±èª (en) âœ…
/about              â†’ è‹±èª (en) âœ…
/ja/solutions       â†’ æ—¥æœ¬èª (ja) âœ…
/ja/resources       â†’ æ—¥æœ¬èª (ja) âœ…
/ja/pricing         â†’ æ—¥æœ¬èª (ja) âœ…
/ja/about           â†’ æ—¥æœ¬èª (ja) âœ…
```

### 2. å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°

#### ğŸ“„ è‹±èªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ– (4ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´)
```astro
// src/pages/solutions.astro
- import BaseLayout from '@/layouts/BaseLayout.astro';
- setCurrentLanguage('ja');
+ import BaseLayoutEn from '@/layouts/BaseLayoutEn.astro';
+ setCurrentLanguage('en');

// åŒæ§˜ã®å¤‰æ›´ã‚’resources.astro, pricing.astro, about.astroã«ã‚‚é©ç”¨
```

#### ğŸ“„ æ—¥æœ¬èªç‰ˆä½œæˆ (4ãƒ•ã‚¡ã‚¤ãƒ«æ–°è¦ä½œæˆ)
```astro
// src/pages/ja/solutions.astro (æ–°è¦)
// src/pages/ja/resources.astro (æ–°è¦)
// src/pages/ja/pricing.astro (æ–°è¦)
// src/pages/ja/about.astro (æ–°è¦)

// å„ãƒ•ã‚¡ã‚¤ãƒ«ã§æ—¥æœ¬èªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®š
```

#### ğŸ”— ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£
```tsx
// src/components/GlobalHeader.tsx
- href: currentLanguage === 'en' ? '/en/solutions' : '/solutions',
+ href: currentLanguage === 'ja' ? '/ja/solutions' : '/solutions',

// home URLã¨request URLã‚‚åŒæ§˜ã«ä¿®æ­£
- const homeUrl = currentLanguage === 'en' ? '/en' : '/';
+ const homeUrl = currentLanguage === 'ja' ? '/ja' : '/';
```

## ğŸš€ æŠ€è¡“çš„å®Ÿè£…

### Step 3 ãƒªãƒ­ãƒ¼ãƒ‰ãªã—è¨€èªåˆ‡ã‚Šæ›¿ãˆå¯¾å¿œ
- **switchLanguageWithoutReload()**: æ–°ã—ã„URLæ§‹é€ ã§æ­£å¸¸å‹•ä½œ
- **updatePathLanguage()**: ãƒ‘ã‚¹å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ãŒ4ãƒšãƒ¼ã‚¸å…¨ã¦ã§æ©Ÿèƒ½
- **GlobalHeader**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨€èªåˆ‡ã‚Šæ›¿ãˆã§ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°

### URLå¤‰æ›ä¾‹
```javascript
// è‹±èªâ†’æ—¥æœ¬èª
updatePathLanguage('/solutions', 'ja')      â†’ '/ja/solutions'
updatePathLanguage('/pricing', 'ja')       â†’ '/ja/pricing'

// æ—¥æœ¬èªâ†’è‹±èª  
updatePathLanguage('/ja/about', 'en')      â†’ '/about'
updatePathLanguage('/ja/resources', 'en')  â†’ '/resources'
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœ

### âœ… å…¨ãƒ†ã‚¹ãƒˆé€šé
- **Step 3ãƒ†ã‚¹ãƒˆ**: 15/15 âœ… (ãƒªãƒ­ãƒ¼ãƒ‰ãªã—è¨€èªåˆ‡ã‚Šæ›¿ãˆ)
- **ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ**: âœ… å•é¡Œãªãå®Œäº†
- **æ–°ã—ã„ãƒšãƒ¼ã‚¸æ§‹é€ **: âœ… å…¨ã¦æ­£å¸¸ç”Ÿæˆ

### ğŸ”§ å‹•ä½œç¢ºèªé …ç›®
- [x] 4ãƒšãƒ¼ã‚¸å…¨ã¦ã§è‹±èªãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤º
- [x] `/ja/*` URLã§æ—¥æœ¬èªç‰ˆã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- [x] GlobalHeaderãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸å‹•ä½œ
- [x] ãƒªãƒ­ãƒ¼ãƒ‰ãªã—è¨€èªåˆ‡ã‚Šæ›¿ãˆãŒ4ãƒšãƒ¼ã‚¸å…¨ã¦ã§æ©Ÿèƒ½
- [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ï¼ˆ200msä»¥ä¸‹ï¼‰ç¶­æŒ

## ğŸ¯ UXæ”¹å–„åŠ¹æœ

### çµ±ä¸€ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“
1. **ä¸€è²«æ€§**: å…¨ãƒšãƒ¼ã‚¸ã§åŒã˜è¨€èªæ§‹é€ 
2. **äºˆæ¸¬å¯èƒ½æ€§**: URLãƒ‘ã‚¿ãƒ¼ãƒ³ãŒçµ±ä¸€
3. **é«˜é€Ÿåˆ‡ã‚Šæ›¿ãˆ**: ãƒªãƒ­ãƒ¼ãƒ‰ãªã—ã§ç¬æ™‚ã«è¨€èªå¤‰æ›´
4. **SEOæœ€é©åŒ–**: æ˜ç¢ºãªè¨€èªåˆ¥URLæ§‹é€ 

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **è¨€èªåˆ‡ã‚Šæ›¿ãˆé€Ÿåº¦**: < 200ms âœ…
- **ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“**: å¤‰æ›´ãªã—ï¼ˆæ—¢å­˜ã¨åŒç­‰ï¼‰
- **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º**: å½±éŸ¿ãªã—

## ğŸ“ˆ ä»Šå¾Œã®æ‹¡å¼µæ€§

### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªæ§‹é€ 
```
/                   â†’ è‹±èªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
/ja/*              â†’ æ—¥æœ¬èªç‰ˆ
/fr/*              â†’ ãƒ•ãƒ©ãƒ³ã‚¹èªç‰ˆï¼ˆå°†æ¥å¯¾å¿œå¯èƒ½ï¼‰
/es/*              â†’ ã‚¹ãƒšã‚¤ãƒ³èªç‰ˆï¼ˆå°†æ¥å¯¾å¿œå¯èƒ½ï¼‰
```

### æ©Ÿèƒ½æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ
1. **å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: ã‚ˆã‚Šå¤šãã®ãƒšãƒ¼ã‚¸ã®è‡ªå‹•å¯¾å¿œ
2. **è¨€èªè‡ªå‹•æ¤œå‡º**: ã‚ˆã‚Šç²¾å¯†ãªãƒ–ãƒ©ã‚¦ã‚¶è¨€èªåˆ¤å®š
3. **SEOæœ€é©åŒ–**: hreflangå±æ€§ã®è‡ªå‹•ç”Ÿæˆ
4. **A/Bãƒ†ã‚¹ãƒˆ**: è¨€èªåˆ¥ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ

## âœ… å®Œäº†ã‚¿ã‚¹ã‚¯

- [x] solutions ãƒšãƒ¼ã‚¸ã®è‹±èªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ– + æ—¥æœ¬èªç‰ˆä½œæˆ
- [x] resources ãƒšãƒ¼ã‚¸ã®è‹±èªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ– + æ—¥æœ¬èªç‰ˆä½œæˆ  
- [x] pricing ãƒšãƒ¼ã‚¸ã®è‹±èªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ– + æ—¥æœ¬èªç‰ˆä½œæˆ
- [x] about ãƒšãƒ¼ã‚¸ã®è‹±èªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ– + æ—¥æœ¬èªç‰ˆä½œæˆ
- [x] GlobalHeader ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ä¿®æ­£
- [x] ãƒªãƒ­ãƒ¼ãƒ‰ãªã—è¨€èªåˆ‡ã‚Šæ›¿ãˆãƒ†ã‚¹ãƒˆç¢ºèª
- [x] ãƒ“ãƒ«ãƒ‰å‹•ä½œç¢ºèª

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

**Step 4: localStorageçµ±ä¸€** ã®å®Ÿè£…ã«é€²ã‚€æº–å‚™ãŒæ•´ã„ã¾ã—ãŸï¼š
- è¨€èªè¨­å®šã®æ°¸ç¶šåŒ–
- å¤ã„ã‚­ãƒ¼ã‹ã‚‰ã®ç§»è¡Œã‚·ã‚¹ãƒ†ãƒ 
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®çµ±åˆç®¡ç†

## ğŸ’¡ å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ

### æˆåŠŸè¦å› 
1. **æ®µéšçš„ç§»è¡Œ**: Step 1ã®åŸºç›¤ã‚’æ´»ç”¨
2. **ãƒ†ã‚¹ãƒˆé§†å‹•**: æ—¢å­˜ãƒ†ã‚¹ãƒˆã§ã®å‹•ä½œç¢ºèª
3. **ä¸€è²«æ€§é‡è¦–**: å…¨ãƒšãƒ¼ã‚¸ã§åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨

### å­¦ã‚“ã ã“ã¨
- Astroã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æŸ”è»Ÿæ€§
- React Contextã¨ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®ç›¸æ€§ã®è‰¯ã•
- TDDæ‰‹æ³•ã«ã‚ˆã‚‹å®‰å…¨ãªå¤§è¦æ¨¡å¤‰æ›´ã®å®Ÿç¾